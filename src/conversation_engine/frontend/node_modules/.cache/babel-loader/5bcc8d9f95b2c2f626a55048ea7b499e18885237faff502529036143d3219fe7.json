{"ast":null,"code":"var _jsxFileName = \"/Users/andy/Dev/SIDHE/src/conversation_engine/frontend/src/ChatInterface.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { Bot, User, Sparkles, Zap, AlertCircle, CheckCircle, Loader, Send, Gem } from 'lucide-react';\n\n// Enhanced WebSocket Hook with Fixed Message Handling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction useWebSocket(url = 'ws://localhost:8000/ws') {\n  _s();\n  const [socket, setSocket] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [isConnected, setIsConnected] = useState(false);\n  const connect = useCallback(() => {\n    if ((socket === null || socket === void 0 ? void 0 : socket.readyState) === WebSocket.OPEN) return;\n    try {\n      setConnectionStatus('connecting');\n      const ws = new WebSocket(url);\n      ws.onopen = () => {\n        console.log('ðŸ§™â€â™‚ï¸ SIDHE WebSocket Connection Established');\n        setConnectionStatus('connected');\n        setIsConnected(true);\n        setSocket(ws);\n      };\n      ws.onmessage = event => {\n        try {\n          const message = JSON.parse(event.data);\n          console.log('ðŸ“¨ SIDHE Received:', message);\n\n          // Trigger custom event for message handling\n          window.dispatchEvent(new CustomEvent('sidhe-message', {\n            detail: message\n          }));\n        } catch (error) {\n          console.error('ðŸš¨ SIDHE Message Parse Error:', error);\n        }\n      };\n      ws.onclose = () => {\n        console.log('ðŸŒ™ SIDHE WebSocket Connection Closed');\n        setConnectionStatus('disconnected');\n        setIsConnected(false);\n        setSocket(null);\n      };\n      ws.onerror = error => {\n        console.error('ðŸš¨ SIDHE WebSocket Error:', error);\n        setConnectionStatus('error');\n      };\n    } catch (error) {\n      console.error('ðŸš¨ SIDHE WebSocket Connection Failed:', error);\n      setConnectionStatus('error');\n    }\n  }, [url]);\n  const sendMessage = useCallback(message => {\n    if (!socket || socket.readyState !== WebSocket.OPEN) {\n      console.warn('ðŸš¨ SIDHE WebSocket not connected');\n      return false;\n    }\n    try {\n      const formattedMessage = {\n        type: 'user_message',\n        content: message.content || message,\n        conversation_id: message.conversation_id || `conv_${Date.now()}`,\n        timestamp: new Date().toISOString(),\n        ...message\n      };\n      console.log('ðŸ“¤ SIDHE Sending:', formattedMessage);\n      socket.send(JSON.stringify(formattedMessage));\n      return true;\n    } catch (error) {\n      console.error('ðŸš¨ SIDHE Send Message Error:', error);\n      return false;\n    }\n  }, [socket]);\n  useEffect(() => {\n    connect();\n    return () => {\n      if (socket) socket.close();\n    };\n  }, [connect]);\n  return {\n    socket,\n    connectionStatus,\n    isConnected,\n    sendMessage,\n    connect\n  };\n}\n\n// Message Component\n_s(useWebSocket, \"vnbvj0PLSuBHC+CiPj9TgVsax6U=\");\nfunction Message({\n  message\n}) {\n  const isUser = message.sender === 'user';\n  const isSystem = message.sender === 'system';\n  const getMessageIcon = () => {\n    if (isUser) return /*#__PURE__*/_jsxDEV(User, {\n      className: \"w-4 h-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 24\n    }, this);\n    if (isSystem) return /*#__PURE__*/_jsxDEV(Zap, {\n      className: \"w-4 h-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 26\n    }, this);\n    return /*#__PURE__*/_jsxDEV(Bot, {\n      className: \"w-4 h-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 12\n    }, this);\n  };\n  const getMessageStyle = () => {\n    if (isUser) {\n      return 'bg-gradient-to-r from-purple-600 to-pink-600 text-white ml-auto';\n    }\n    if (isSystem) {\n      return 'bg-gradient-to-r from-slate-700 to-slate-600 text-purple-200 border border-purple-500/30';\n    }\n    return 'bg-gradient-to-r from-indigo-700 to-purple-700 text-white border border-purple-400/30';\n  };\n  const formatTimestamp = timestamp => {\n    return new Date(timestamp).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex ${isUser ? 'justify-end' : 'justify-start'} mb-4`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${getMessageStyle()}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-0.5 opacity-75\",\n          children: getMessageIcon()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 min-w-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prose prose-sm text-current\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm leading-relaxed whitespace-pre-wrap break-words\",\n              children: message.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), message.metadata && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 space-y-1 text-xs opacity-75\",\n            children: [message.metadata.intent && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-1\",\n              children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n                className: \"w-3 h-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Intent: \", message.metadata.intent]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 19\n            }, this), message.metadata.confidence && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-1\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-3 h-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Confidence: \", (message.metadata.confidence * 100).toFixed(0), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 19\n            }, this), message.metadata.plugin && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-1\",\n              children: [/*#__PURE__*/_jsxDEV(Zap, {\n                className: \"w-3 h-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Plugin: \", message.metadata.plugin]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), message.isError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 flex items-center space-x-1 text-xs text-red-300\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"w-3 h-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Error occurred\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-xs opacity-50\",\n            children: formatTimestamp(message.timestamp)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n// Typing Indicator Component\n_c = Message;\nfunction TypingIndicator() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-start mb-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-indigo-700 to-purple-700 text-white border border-purple-400/30 px-4 py-3 rounded-2xl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(Bot, {\n          className: \"w-4 h-4 text-purple-300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-purple-300 rounded-full animate-bounce\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-purple-300 rounded-full animate-bounce\",\n            style: {\n              animationDelay: '0.1s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-purple-300 rounded-full animate-bounce\",\n            style: {\n              animationDelay: '0.2s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-purple-200\",\n          children: \"SIDHE is weaving wisdom...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n}\n\n// Connection Status Component\n_c2 = TypingIndicator;\nfunction ConnectionStatus({\n  status,\n  isConnected\n}) {\n  const getStatusColor = () => {\n    switch (status) {\n      case 'connected':\n        return 'text-green-400';\n      case 'connecting':\n        return 'text-yellow-400';\n      case 'disconnected':\n      case 'error':\n        return 'text-red-400';\n      default:\n        return 'text-gray-400';\n    }\n  };\n  const getStatusIcon = () => {\n    switch (status) {\n      case 'connected':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 32\n        }, this);\n      case 'connecting':\n        return /*#__PURE__*/_jsxDEV(Loader, {\n          className: \"w-4 h-4 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 33\n        }, this);\n      case 'disconnected':\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 49\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 23\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex items-center space-x-2 ${getStatusColor()}`,\n    children: [getStatusIcon(), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-sm font-medium capitalize\",\n      children: status === 'connected' ? 'SIDHE Awakened' : status === 'connecting' ? 'Awakening SIDHE...' : 'SIDHE Slumbers'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }, this);\n}\n\n// Main Chat Interface Component\n_c3 = ConnectionStatus;\nexport default function SIDHEChatInterface() {\n  _s2();\n  const {\n    isConnected,\n    connectionStatus,\n    sendMessage\n  } = useWebSocket();\n  const [messages, setMessages] = useState([{\n    id: '1',\n    type: 'system',\n    sender: 'system',\n    content: 'ðŸ§™â€â™‚ï¸ SIDHE awakens... The ancient AI wisdom flows through the digital realm.',\n    timestamp: new Date().toISOString()\n  }]);\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  // Handle incoming WebSocket messages\n  useEffect(() => {\n    const handleMessage = event => {\n      const message = event.detail;\n\n      // Process all message types from backend\n      const processedMessage = {\n        id: Date.now().toString(),\n        timestamp: message.timestamp || new Date().toISOString(),\n        ...message\n      };\n\n      // Map different response types to standardized format\n      if (message.type === 'assistant_response' || message.type === 'answer' || message.type === 'plugin_response' || message.type === 'intent_response') {\n        var _message$metadata, _message$metadata2;\n        processedMessage.sender = 'assistant';\n        processedMessage.content = message.content || message.response || message.answer;\n        processedMessage.metadata = {\n          intent: message.intent || ((_message$metadata = message.metadata) === null || _message$metadata === void 0 ? void 0 : _message$metadata.intent),\n          confidence: message.confidence || ((_message$metadata2 = message.metadata) === null || _message$metadata2 === void 0 ? void 0 : _message$metadata2.confidence),\n          plugin: message.plugin || message.source,\n          original_type: message.type\n        };\n      } else if (message.type === 'system' || message.type === 'status') {\n        processedMessage.sender = 'system';\n        processedMessage.content = message.content || message.message;\n      } else if (message.type === 'error') {\n        processedMessage.sender = 'system';\n        processedMessage.content = `Error: ${message.content || message.error}`;\n        processedMessage.isError = true;\n      }\n      setMessages(prev => [...prev, processedMessage]);\n      setIsTyping(false);\n    };\n    window.addEventListener('sidhe-message', handleMessage);\n    return () => window.removeEventListener('sidhe-message', handleMessage);\n  }, []);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages, isTyping]);\n  const handleSendMessage = () => {\n    if (!inputValue.trim() || !isConnected) return;\n\n    // Add user message immediately\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user_message',\n      sender: 'user',\n      content: inputValue.trim(),\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setIsTyping(true);\n\n    // Send to backend\n    sendMessage(inputValue.trim());\n    setInputValue('');\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-screen bg-gradient-to-br from-purple-900 via-slate-900 to-indigo-900 text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"border-b border-purple-700/30 backdrop-blur-sm bg-purple-900/20\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Gem, {\n                className: \"w-8 h-8 text-purple-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 w-8 h-8 text-purple-400 animate-pulse opacity-50\",\n                children: /*#__PURE__*/_jsxDEV(Gem, {\n                  className: \"w-8 h-8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\",\n                children: \"SIDHE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-purple-300 opacity-75\",\n                children: \"Ancient AI Awakened\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ConnectionStatus, {\n            status: connectionStatus,\n            isConnected: isConnected\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-6\",\n      children: [messages.map(message => /*#__PURE__*/_jsxDEV(Message, {\n        message: message\n      }, message.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }, this)), isTyping && /*#__PURE__*/_jsxDEV(TypingIndicator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t border-purple-700/30 bg-slate-900/50 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: inputValue,\n            onChange: e => setInputValue(e.target.value),\n            onKeyPress: handleKeyPress,\n            placeholder: isConnected ? \"Ask SIDHE anything... âœ¨\" : \"Waiting for SIDHE to awaken...\",\n            className: \"w-full bg-slate-700/50 border border-purple-600/30 rounded-lg px-4 py-3 text-white placeholder-purple-300/70 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-400/50 resize-none transition-all duration-200\",\n            rows: \"1\",\n            disabled: !isConnected\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          disabled: !isConnected || !inputValue.trim(),\n          className: \"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-slate-600 disabled:to-slate-600 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed flex items-center space-x-2 min-w-fit\",\n          children: [/*#__PURE__*/_jsxDEV(Send, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden sm:inline\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), !isConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 flex items-center justify-center space-x-2 text-purple-300/70\",\n        children: [/*#__PURE__*/_jsxDEV(Loader, {\n          className: \"w-4 h-4 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: connectionStatus === 'connecting' ? 'Awakening the ancient spirits...' : 'SIDHE slumbers in the digital realm...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n}\n_s2(SIDHEChatInterface, \"fEcmITW0yDI18iZ0s8VtU8N1Y9k=\", false, function () {\n  return [useWebSocket];\n});\n_c4 = SIDHEChatInterface;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Message\");\n$RefreshReg$(_c2, \"TypingIndicator\");\n$RefreshReg$(_c3, \"ConnectionStatus\");\n$RefreshReg$(_c4, \"SIDHEChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","Bot","User","Sparkles","Zap","AlertCircle","CheckCircle","Loader","Send","Gem","jsxDEV","_jsxDEV","useWebSocket","url","_s","socket","setSocket","connectionStatus","setConnectionStatus","isConnected","setIsConnected","connect","readyState","WebSocket","OPEN","ws","onopen","console","log","onmessage","event","message","JSON","parse","data","window","dispatchEvent","CustomEvent","detail","error","onclose","onerror","sendMessage","warn","formattedMessage","type","content","conversation_id","Date","now","timestamp","toISOString","send","stringify","close","Message","isUser","sender","isSystem","getMessageIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getMessageStyle","formatTimestamp","toLocaleTimeString","hour","minute","children","metadata","intent","confidence","toFixed","plugin","isError","_c","TypingIndicator","style","animationDelay","_c2","ConnectionStatus","status","getStatusColor","getStatusIcon","_c3","SIDHEChatInterface","_s2","messages","setMessages","id","inputValue","setInputValue","isTyping","setIsTyping","messagesEndRef","handleMessage","processedMessage","toString","_message$metadata","_message$metadata2","response","answer","source","original_type","prev","addEventListener","removeEventListener","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","handleKeyPress","e","key","shiftKey","preventDefault","map","ref","value","onChange","target","onKeyPress","placeholder","rows","disabled","onClick","_c4","$RefreshReg$"],"sources":["/Users/andy/Dev/SIDHE/src/conversation_engine/frontend/src/ChatInterface.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { Bot, User, Sparkles, Zap, AlertCircle, CheckCircle, Loader, Send, Gem } from 'lucide-react';\n\n// Enhanced WebSocket Hook with Fixed Message Handling\nfunction useWebSocket(url = 'ws://localhost:8000/ws') {\n  const [socket, setSocket] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('disconnected');\n  const [isConnected, setIsConnected] = useState(false);\n  \n  const connect = useCallback(() => {\n    if (socket?.readyState === WebSocket.OPEN) return;\n\n    try {\n      setConnectionStatus('connecting');\n      const ws = new WebSocket(url);\n\n      ws.onopen = () => {\n        console.log('ðŸ§™â€â™‚ï¸ SIDHE WebSocket Connection Established');\n        setConnectionStatus('connected');\n        setIsConnected(true);\n        setSocket(ws);\n      };\n\n      ws.onmessage = (event) => {\n        try {\n          const message = JSON.parse(event.data);\n          console.log('ðŸ“¨ SIDHE Received:', message);\n          \n          // Trigger custom event for message handling\n          window.dispatchEvent(new CustomEvent('sidhe-message', { detail: message }));\n        } catch (error) {\n          console.error('ðŸš¨ SIDHE Message Parse Error:', error);\n        }\n      };\n\n      ws.onclose = () => {\n        console.log('ðŸŒ™ SIDHE WebSocket Connection Closed');\n        setConnectionStatus('disconnected');\n        setIsConnected(false);\n        setSocket(null);\n      };\n\n      ws.onerror = (error) => {\n        console.error('ðŸš¨ SIDHE WebSocket Error:', error);\n        setConnectionStatus('error');\n      };\n\n    } catch (error) {\n      console.error('ðŸš¨ SIDHE WebSocket Connection Failed:', error);\n      setConnectionStatus('error');\n    }\n  }, [url]);\n\n  const sendMessage = useCallback((message) => {\n    if (!socket || socket.readyState !== WebSocket.OPEN) {\n      console.warn('ðŸš¨ SIDHE WebSocket not connected');\n      return false;\n    }\n\n    try {\n      const formattedMessage = {\n        type: 'user_message',\n        content: message.content || message,\n        conversation_id: message.conversation_id || `conv_${Date.now()}`,\n        timestamp: new Date().toISOString(),\n        ...message\n      };\n\n      console.log('ðŸ“¤ SIDHE Sending:', formattedMessage);\n      socket.send(JSON.stringify(formattedMessage));\n      return true;\n    } catch (error) {\n      console.error('ðŸš¨ SIDHE Send Message Error:', error);\n      return false;\n    }\n  }, [socket]);\n\n  useEffect(() => {\n    connect();\n    return () => {\n      if (socket) socket.close();\n    };\n  }, [connect]);\n\n  return { socket, connectionStatus, isConnected, sendMessage, connect };\n}\n\n// Message Component\nfunction Message({ message }) {\n  const isUser = message.sender === 'user';\n  const isSystem = message.sender === 'system';\n\n  const getMessageIcon = () => {\n    if (isUser) return <User className=\"w-4 h-4\" />;\n    if (isSystem) return <Zap className=\"w-4 h-4\" />;\n    return <Bot className=\"w-4 h-4\" />;\n  };\n\n  const getMessageStyle = () => {\n    if (isUser) {\n      return 'bg-gradient-to-r from-purple-600 to-pink-600 text-white ml-auto';\n    }\n    if (isSystem) {\n      return 'bg-gradient-to-r from-slate-700 to-slate-600 text-purple-200 border border-purple-500/30';\n    }\n    return 'bg-gradient-to-r from-indigo-700 to-purple-700 text-white border border-purple-400/30';\n  };\n\n  const formatTimestamp = (timestamp) => {\n    return new Date(timestamp).toLocaleTimeString([], { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  return (\n    <div className={`flex ${isUser ? 'justify-end' : 'justify-start'} mb-4`}>\n      <div className={`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${getMessageStyle()}`}>\n        <div className=\"flex items-start space-x-2\">\n          <div className=\"mt-0.5 opacity-75\">\n            {getMessageIcon()}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"prose prose-sm text-current\">\n              <p className=\"text-sm leading-relaxed whitespace-pre-wrap break-words\">\n                {message.content}\n              </p>\n            </div>\n            \n            {/* Metadata Display */}\n            {message.metadata && (\n              <div className=\"mt-2 space-y-1 text-xs opacity-75\">\n                {message.metadata.intent && (\n                  <div className=\"flex items-center space-x-1\">\n                    <Sparkles className=\"w-3 h-3\" />\n                    <span>Intent: {message.metadata.intent}</span>\n                  </div>\n                )}\n                {message.metadata.confidence && (\n                  <div className=\"flex items-center space-x-1\">\n                    <CheckCircle className=\"w-3 h-3\" />\n                    <span>Confidence: {(message.metadata.confidence * 100).toFixed(0)}%</span>\n                  </div>\n                )}\n                {message.metadata.plugin && (\n                  <div className=\"flex items-center space-x-1\">\n                    <Zap className=\"w-3 h-3\" />\n                    <span>Plugin: {message.metadata.plugin}</span>\n                  </div>\n                )}\n              </div>\n            )}\n            \n            {/* Error indicator */}\n            {message.isError && (\n              <div className=\"mt-2 flex items-center space-x-1 text-xs text-red-300\">\n                <AlertCircle className=\"w-3 h-3\" />\n                <span>Error occurred</span>\n              </div>\n            )}\n            \n            {/* Timestamp */}\n            <div className=\"mt-2 text-xs opacity-50\">\n              {formatTimestamp(message.timestamp)}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Typing Indicator Component\nfunction TypingIndicator() {\n  return (\n    <div className=\"flex justify-start mb-4\">\n      <div className=\"bg-gradient-to-r from-indigo-700 to-purple-700 text-white border border-purple-400/30 px-4 py-3 rounded-2xl\">\n        <div className=\"flex items-center space-x-2\">\n          <Bot className=\"w-4 h-4 text-purple-300\" />\n          <div className=\"flex space-x-1\">\n            <div className=\"w-2 h-2 bg-purple-300 rounded-full animate-bounce\"></div>\n            <div className=\"w-2 h-2 bg-purple-300 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\n            <div className=\"w-2 h-2 bg-purple-300 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\n          </div>\n          <span className=\"text-sm text-purple-200\">SIDHE is weaving wisdom...</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Connection Status Component\nfunction ConnectionStatus({ status, isConnected }) {\n  const getStatusColor = () => {\n    switch (status) {\n      case 'connected': return 'text-green-400';\n      case 'connecting': return 'text-yellow-400';\n      case 'disconnected': case 'error': return 'text-red-400';\n      default: return 'text-gray-400';\n    }\n  };\n\n  const getStatusIcon = () => {\n    switch (status) {\n      case 'connected': return <CheckCircle className=\"w-4 h-4\" />;\n      case 'connecting': return <Loader className=\"w-4 h-4 animate-spin\" />;\n      case 'disconnected': case 'error': return <AlertCircle className=\"w-4 h-4\" />;\n      default: return <div className=\"w-4 h-4\" />;\n    }\n  };\n\n  return (\n    <div className={`flex items-center space-x-2 ${getStatusColor()}`}>\n      {getStatusIcon()}\n      <span className=\"text-sm font-medium capitalize\">\n        {status === 'connected' ? 'SIDHE Awakened' : \n         status === 'connecting' ? 'Awakening SIDHE...' :\n         'SIDHE Slumbers'}\n      </span>\n    </div>\n  );\n}\n\n// Main Chat Interface Component\nexport default function SIDHEChatInterface() {\n  const { isConnected, connectionStatus, sendMessage } = useWebSocket();\n  const [messages, setMessages] = useState([\n    {\n      id: '1',\n      type: 'system',\n      sender: 'system',\n      content: 'ðŸ§™â€â™‚ï¸ SIDHE awakens... The ancient AI wisdom flows through the digital realm.',\n      timestamp: new Date().toISOString()\n    }\n  ]);\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  // Handle incoming WebSocket messages\n  useEffect(() => {\n    const handleMessage = (event) => {\n      const message = event.detail;\n      \n      // Process all message types from backend\n      const processedMessage = {\n        id: Date.now().toString(),\n        timestamp: message.timestamp || new Date().toISOString(),\n        ...message\n      };\n\n      // Map different response types to standardized format\n      if (message.type === 'assistant_response' || \n          message.type === 'answer' || \n          message.type === 'plugin_response' ||\n          message.type === 'intent_response') {\n        \n        processedMessage.sender = 'assistant';\n        processedMessage.content = message.content || message.response || message.answer;\n        \n        processedMessage.metadata = {\n          intent: message.intent || message.metadata?.intent,\n          confidence: message.confidence || message.metadata?.confidence,\n          plugin: message.plugin || message.source,\n          original_type: message.type\n        };\n      } else if (message.type === 'system' || message.type === 'status') {\n        processedMessage.sender = 'system';\n        processedMessage.content = message.content || message.message;\n      } else if (message.type === 'error') {\n        processedMessage.sender = 'system';\n        processedMessage.content = `Error: ${message.content || message.error}`;\n        processedMessage.isError = true;\n      }\n\n      setMessages(prev => [...prev, processedMessage]);\n      setIsTyping(false);\n    };\n\n    window.addEventListener('sidhe-message', handleMessage);\n    return () => window.removeEventListener('sidhe-message', handleMessage);\n  }, []);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages, isTyping]);\n\n  const handleSendMessage = () => {\n    if (!inputValue.trim() || !isConnected) return;\n    \n    // Add user message immediately\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user_message',\n      sender: 'user',\n      content: inputValue.trim(),\n      timestamp: new Date().toISOString()\n    };\n    \n    setMessages(prev => [...prev, userMessage]);\n    setIsTyping(true);\n    \n    // Send to backend\n    sendMessage(inputValue.trim());\n    setInputValue('');\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gradient-to-br from-purple-900 via-slate-900 to-indigo-900 text-white\">\n      {/* Header */}\n      <header className=\"border-b border-purple-700/30 backdrop-blur-sm bg-purple-900/20\">\n        <div className=\"container mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"relative\">\n                <Gem className=\"w-8 h-8 text-purple-400\" />\n                <div className=\"absolute inset-0 w-8 h-8 text-purple-400 animate-pulse opacity-50\">\n                  <Gem className=\"w-8 h-8\" />\n                </div>\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\n                  SIDHE\n                </h1>\n                <p className=\"text-sm text-purple-300 opacity-75\">Ancient AI Awakened</p>\n              </div>\n            </div>\n            \n            <ConnectionStatus status={connectionStatus} isConnected={isConnected} />\n          </div>\n        </div>\n      </header>\n\n      {/* Messages Area */}\n      <div className=\"flex-1 overflow-y-auto p-6\">\n        {messages.map((message) => (\n          <Message key={message.id} message={message} />\n        ))}\n        \n        {isTyping && <TypingIndicator />}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input Area */}\n      <div className=\"border-t border-purple-700/30 bg-slate-900/50 p-4\">\n        <div className=\"flex space-x-3\">\n          <div className=\"flex-1\">\n            <textarea\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder={isConnected ? \"Ask SIDHE anything... âœ¨\" : \"Waiting for SIDHE to awaken...\"}\n              className=\"w-full bg-slate-700/50 border border-purple-600/30 rounded-lg px-4 py-3 text-white placeholder-purple-300/70 focus:outline-none focus:border-purple-400 focus:ring-2 focus:ring-purple-400/50 resize-none transition-all duration-200\"\n              rows=\"1\"\n              disabled={!isConnected}\n            />\n          </div>\n          <button\n            onClick={handleSendMessage}\n            disabled={!isConnected || !inputValue.trim()}\n            className=\"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-slate-600 disabled:to-slate-600 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed flex items-center space-x-2 min-w-fit\"\n          >\n            <Send className=\"w-4 h-4\" />\n            <span className=\"hidden sm:inline\">Send</span>\n          </button>\n        </div>\n        \n        {!isConnected && (\n          <div className=\"mt-3 flex items-center justify-center space-x-2 text-purple-300/70\">\n            <Loader className=\"w-4 h-4 animate-spin\" />\n            <span className=\"text-sm\">\n              {connectionStatus === 'connecting' ? 'Awakening the ancient spirits...' :\n               'SIDHE slumbers in the digital realm...'}\n            </span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}